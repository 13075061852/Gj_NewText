/* 移除了原来的 @import 语句，改为在 HTML 中更高效地加载 */

:root {
    --background: #ffffff;
    --foreground: #0f172a;
    --secondary: #f1f5f9;
    --secondary-foreground: #0f172a;
    --muted: #f1f5f9;
    --muted-foreground: #64748b;
    --accent: #f1f5f9;
    --accent-foreground: #0f172a;
    --destructive: #ef4444;
    --border: #e2e8f0;
    --input: #e2e8f0;
    --ring: #0f172a;
    --primary: #0f172a;
    --primary-foreground: #ffffff;
    --radius: 0.5rem;
}

.dark {
    --background: #020617;
    --foreground: #f8fafc;
    --secondary: #1e293b;
    --secondary-foreground: #f8fafc;
    --muted: #1e293b;
    --muted-foreground: #94a3b8;
    --accent: #1e293b;
    --accent-foreground: #f8fafc;
    --destructive: #7f1d1d;
    --border: #1e293b;
    --input: #1e293b;
    --ring: #cbd5e1;
    --primary: #f8fafc;
    --primary-foreground: #020617;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
    background: var(--muted-foreground);
}

/* Table Sticky Styles */
/* Header Sticky */
th.sticky-header {
    position: sticky;
    top: 0;
    z-index: 10;
    /* 使用纯色背景，确保完全不透明 */
    background-color: var(--background);
    /* 移除可能导致透明的rgba设置 */
    box-shadow: 0 1px 0 var(--border);
}

/* Column Sticky */
td.sticky-col, th.sticky-col {
    position: sticky;
    left: 0;
    z-index: 5; /* Lower than header */
    background-color: var(--background);
    border-right: 1px solid var(--border);
}

/* Corner Sticky (Intersection of Header and First Col) */
th.sticky-col.sticky-header {
    z-index: 20; /* Highest */
}

/* Sticky Offset Logic - Handled via JS usually, but basic first col is simple */
.sticky-col-1 { left: 0; }

/* Toast Animation */
@keyframes slideIn {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}
.toast {
    animation: slideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}
.toast.exiting {
    animation: fadeOut 0.3s forwards;
}

/* Interactive Elements */
.sheet-item {
    transition: all 0.2s ease;
}
.sheet-item.active {
    background-color: var(--secondary);
    color: var(--foreground);
    font-weight: 500;
    border-left: 3px solid var(--primary);
}

/* Drag over effect */
body.drag-over::after {
    content: '';
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.1);
    backdrop-filter: blur(2px);
    z-index: 9999;
    pointer-events: none;
    border: 4px dashed var(--primary);
}

/* 参数值样式 */
.param-value {
    margin-right: 2px;
    white-space: nowrap;
    display: inline-block;
}

#compare-dialog-content .param-value {
    white-space: nowrap;
    display: inline-block;
}

/* 平均值特殊颜色标注 */
.average-value {
    color: #e91e63;
    font-weight: bold;
}

/* 选中行样式 */
.row-selected {
    background-color: var(--accent);
    --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);
    --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);
    box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);
    --tw-ring-color: var(--primary);
    outline: 2px solid transparent;
    outline-offset: 2px;
}

/* 对比弹窗表格样式 */
#compare-dialog-content table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 1rem;
    border: 1px solid var(--border); /* 添加边框以明确表格范围 */
}

/* 对比弹窗表格容器 */
.compare-table-container {
    /* 移除滚动条，确保严格分页 */
    overflow-y: hidden;
    overflow-x: auto;
    height: auto;
    /* 限制容器高度，确保分页效果 */
    max-height: calc(90vh - 200px); /* 为头部和分页控件留出空间 */
    /* 确保每页显示固定数量的行 */
    min-height: 400px; /* 大约可以容纳10行数据 */
    /* 添加过渡效果以减少切换时的闪烁 */
    transition: opacity 0.2s ease-in-out;
    /* 确保内容完整显示 */
    display: flex;
    flex-direction: column;
}

/* 数据对比弹窗宽度调整 */
#compare-dialog .bg-background {
    width: auto;
    max-width: 90vw; /* 增加最大宽度至视口的90% */
    min-width: 800px; /* 确保有足够的宽度显示数据 */
}



#compare-dialog-content th, #compare-dialog-content td {
    padding: 0.75rem 1rem;
    border: 1px solid var(--border);
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
}

#compare-dialog-content td {
    max-width: 250px; /* 增加单元格最大宽度，充分利用扩展的弹窗空间 */
}

#compare-dialog-content th {
    background-color: var(--secondary);
    font-weight: 600;
}

#compare-dialog-content tbody tr:nth-child(even) {
    background-color: var(--secondary);
}

/* 确保表头完全不透明 */
thead th {
    background-color: var(--background);
    color: var(--foreground);
    font-weight: 600;
    text-align: center;
}

#data-table td {
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    max-width: 300px; /* 限制单元格最大宽度，防止表格过宽 */
}
